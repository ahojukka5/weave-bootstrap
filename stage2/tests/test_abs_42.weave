(program
  (name "test-abs-42")
  (doc "Calculate absolute value without ccall.")
  (version "0.1")

  (type ExitCode
    (alias Int32)
  )

  (fn abs-value
    (doc "Return absolute value of integer.")
    (params (n Int32))
    (returns Int32)
    (body
      (if-stmt (< n 0)
        (- 0 n)
        n
      )
    )
  )

  (entry main
    (doc "abs(-30) + abs(12) = 30 + 12 = 42.")
    (params ())
    (returns ExitCode)
    (body (+ (abs-value (- 0 30)) (abs-value 12)))
  )
)
