(program
  (name "test-while-nested-42")
  (doc "Test nested while loops.")
  (version "0.1")

  (type ExitCode
    (alias Int32)
  )

  (entry main
    (doc "Use nested loops to compute sum.")
    (params ())
    (returns ExitCode)
    (body
      (do
        (let i Int32 0)
        (let sum Int32 0)
        (while (< i 6)
          (do
            (let j Int32 0)
            (while (< j 2)
              (do
                (set sum (+ sum 1))
                (set j (+ j 1))
              )
            )
            (set i (+ i 1))
          )
        )
        ;; 6 * 2 = 12, need 42 so add 30
        (return (+ sum 30))
      )
    )
  )
)
