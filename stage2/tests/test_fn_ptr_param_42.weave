(program
  (name "test-fn-ptr-param-42")
  (doc "Test function with pointer parameter.")
  (version "0.1")

  (type ExitCode
    (alias Int32)
  )

  (fn increment-ptr
    (doc "Increment value at pointer by given amount.")
    (params (p (ptr Int32)) (amount Int32))
    (returns Int32)
    (body
      (do
        (let val Int32 (load Int32 p))
        (store Int32 (+ val amount) p)
        (return (load Int32 p))
      )
    )
  )

  (entry main
    (doc "Create local, pass pointer to function.")
    (params ())
    (returns ExitCode)
    (body
      (do
        (let x Int32 32)
        (return (increment-ptr (addr x) 10))
      )
    )
  )
)
