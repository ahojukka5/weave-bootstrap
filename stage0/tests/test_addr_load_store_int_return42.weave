(program
  (name "test-addr-load-store-int-return42")
  (doc "Take address of a local, store through it, and read back 42.")
  (version "0.1")

  (type ExitCode
    (alias Int32)
  ) ;; type ExitCode

  (entry main
    (doc "Use addr/load/store to return 42.")
    (params ())
    (returns ExitCode)
    (body
      (let x Int32 41)
      (let p (ptr Int32) (addr x))
      (store Int32 p 42)
      (return (load Int32 p))
    ) ;; body
  ) ;; entry main
) ;; program
