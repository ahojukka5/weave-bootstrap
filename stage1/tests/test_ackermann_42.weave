(program
  (name "test-ackermann-42")
  (doc "Calculate Ackermann function (doubly recursive).")
  (version "0.1")

  (type ExitCode
    (alias Int32)
  )

  (fn ackermann
    (doc "Ackermann function A(m,n).")
    (params (m Int32) (n Int32))
    (returns Int32)
    (body
      (if-stmt (== m 0)
        (+ n 1)
        (if-stmt (== n 0)
          (ackermann (- m 1) 1)
          (ackermann (- m 1) (ackermann m (- n 1)))
        )
      )
    )
  )

  (entry main
    (doc "A(1, 40) = 40 + 2 = 42.")
    (params ())
    (returns ExitCode)
    (body (ackermann 1 40))
  )
)
