(program
  (name "test-sign-function-42")
  (doc "Return sign of a number: -1, 0, or 1.")
  (version "0.1")

  (type ExitCode
    (alias Int32)
  )

  (fn sign
    (doc "Return -1 if negative, 0 if zero, 1 if positive.")
    (params (n Int32))
    (returns Int32)
    (body
      (do
        (if-stmt (< n 0)
          (return (- 0 1))
          (do 0)
        )
        (if-stmt (> n 0)
          (return 1)
          (do 0)
        )
        (return 0)
      )
    )
  )

  (entry main
    (doc "Calculate sign values and combine to get 42.")
    (params ())
    (returns ExitCode)
    (body
      (do
        (let a Int32 (sign (- 0 50)))  ;; -1
        (let b Int32 (sign 0))         ;; 0
        (let c Int32 (sign 100))       ;; 1
        ;; Need to compute: (-1 * some) + (0 * some) + (1 * some) = 42
        ;; Let's use: sign(-50)*(-10) + sign(0)*5 + sign(100)*32 = 10 + 0 + 32 = 42
        (let result Int32 0)
        (set result (+ result (* a (- 0 10))))
        (set result (+ result (* b 5)))
        (set result (+ result (* c 32)))
        (return result)
      )
    )
  )
)
